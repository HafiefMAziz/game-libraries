<%- include('../layouts/header.ejs') %>
    <div class="div border rounded">
        <form action="/games/update/<%= oldGame.id %>" method="post" class="my-4 mx-4">
            <div class="row mb-4">
                <h4>Update Game</h4>
            </div>
            <div class="row mb-3">
                <label for="inputDescription" class="col-sm-1 col-form-label">Title</label>
                <div class="col-sm-3">
                    <input required value="<%= oldGame.title %>" name="title" type="text" class="form-control" id="inputTitle">
                </div>
                <label for="inputyearRelease" class="col-sm-1 col-form-label">Release Year</label>
                <div class="col-sm-3">
                    <input required value="<%= oldGame.yearRelease %>" name="yearRelease" type="number" class="form-control" id="inputyearRelease" min="1900" max="2099" value="2023">
                </div>
            </div>
            <div class="row mb-4">
                <label for="tagIdsInput" class="col-sm-1 col-form-label">Tags</label>
                <div class="col-sm-3">
                    <select multiple id="tagIdsInput" type="number" name="tagIds" class="form-select chosen-select">
                      <% tags.forEach(tag => { %>
                        <% if (oldGame.tags.some(oldTag => oldTag.id === tag.id)) { %>
                            <option selected value="<%= tag.id %>"><%= tag.name %></option> 
                        <% } else { %>
                            <option value="<%= tag.id %>"><%= tag.name %></option>
                        <% } %>
                      <% }) %>
                    </select>
                </div>
                <label for="inputTitle" class="col-sm-1 col-form-label">Description</label>
                <div class="col-sm-3">
                    <textarea required name="description" type="text" class="form-control" id="inputDescription" rows="3"><%= oldGame.description %></textarea>
                </div>
            </div>
            <button type="submit" class="btn btn-success me-1">Update</button>
        </form>
    </div>
<%- include('../layouts/footer.ejs') %>